<!DOCTYPE html>
<html lang="en">
{{template "views/partials/head" .}}

<body class="bg-gray-900 text-gray-200">
   
    <div class="chat-container bg-gray-800 shadow-lg rounded-lg" >
        {{template "views/partials/navbar" .}}

        <!-- Chat Header -->
        <div class="border-b border-gray-700 p-4">
            <h1 class="text-lg font-semibold">Chat</h1>

        </div>
        
        <!-- Chat Messages -->
        <div class="chat-messages p-4">
            <div sse-swap="messages" hx-swap="beforeend" id="messages" hx-on:htmx:after-settle="document.getElementById('messages').scrollIntoView(false)"></div>
        </div>
        
        <!-- Message Input -->
        <div class="p-4 border-t border-gray-700">
            <div sse-swap="message_status"></div>
            <input id="inputMessage" name="message" type="text" hx-post="/chat/{{.Name}}"  hx-target="#results" hx-indicator=".htmx-indicator"
            class="p-2 border rounded w-full bg-gray-600 text-white placeholder-gray-300" placeholder="Type a message..." _="on htmx:afterRequest set my value to ''">
            <div class="my-2 htmx-indicator" ></div>
            <div id="results" class="flex justify-center"></div>
        </div>

    </div>
    {{template "views/partials/footer" .}}

</body>
</html>
